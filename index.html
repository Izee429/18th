<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For You</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Quicksand:wght@400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- PLAY BUTTON -->
<button id="playMusicBtn">ğŸµ Tap to Play Music</button>

<div class="wrapper">

  <!-- CARD 1 -->
  <div class="book reveal" onclick="openBook(this)">
    <div class="cover">
      <div class="ribbon"></div>
      <div class="seal">ğŸ’Œ</div>
      <div class="cover-text">Happy Birthday ğŸ‚</div>
    </div>

    <div class="page left">
      <div class="photos">
        <img src="images/photo1.jpg">
        <img src="images/photo2.jpg">
      </div>
    </div>

    <div class="page right">
      <h2>For You</h2>
      <p class="typewriter">
        May your day be filled with warmth, love, and moments that make you smile.
        I hope you always remember how special you are adiiii.
      </p>
    </div>
  </div>

  <!-- CARD 2 -->
  <div class="book reveal" onclick="openBook(this)">
    <div class="cover">
      <div class="ribbon"></div>
      <div class="seal">ğŸ’Œ</div>
      <div class="cover-text">Thank You</div>
    </div>

    <div class="page left">
      <div class="photos">
        <img src="images/photo3.jpg">
        <img src="images/photo4.jpg">
      </div>
    </div>

    <div class="page right">
      <h2>Thank You</h2>
      <p class="typewriter">
        Thank you for being you â€” for your kindness, your laughter,
        and the comfort you bring.
      </p>
    </div>
  </div>

  <!-- CARD 3 -->
  <div class="book reveal" onclick="openBook(this)">
    <div class="cover">
      <div class="ribbon"></div>
      <div class="seal">ğŸ’Œ</div>
      <div class="cover-text">Always</div>
    </div>

    <div class="page left">
      <div class="photos">
        <img src="images/photo5.jpg">
        <img src="images/photo6.jpg">
      </div>
    </div>

    <div class="page right">
      <h2>Always</h2>
      <p class="typewriter">
        No matter where life takes you,
        I hope you always feel loved,
        appreciated, and never alone.
      </p>
      <p class="from">â€” Yours Truly, adiii</p>
    </div>
  </div>

</div>

<!-- AUDIO -->
<audio id="bgMusic" src="music/panalangin.mp3" preload="auto"></audio>

<!-- MUSIC CONTROLS (VISIBLE AFTER PLAY) -->
<div id="musicControls">
  <button id="playPause">â¸</button>
  <input type="range" id="seekBar" min="0" value="0" step="1">
  <input type="range" id="volumeBar" min="0" max="1" step="0.01" value="0.8">
</div>

<script>
const music = document.getElementById('bgMusic');
const playBtn = document.getElementById('playMusicBtn');
const controls = document.getElementById('musicControls');
const playPauseBtn = document.getElementById('playPause');
const seekBar = document.getElementById('seekBar');
const volumeBar = document.getElementById('volumeBar');

let emojisRunning = false;

/* START MUSIC */
playBtn.addEventListener('click', async () => {
  music.volume = volumeBar.value;
  await music.play();
  playBtn.style.display = 'none';
  controls.style.display = 'flex';
});

/* Play / Pause */
playPauseBtn.addEventListener('click', () => {
  if (music.paused) {
    music.play();
    playPauseBtn.textContent = 'â¸';
  } else {
    music.pause();
    playPauseBtn.textContent = 'â–¶ï¸';
  }
});

/* Seek */
music.addEventListener('timeupdate', () => {
  seekBar.max = Math.floor(music.duration || 0);
  seekBar.value = Math.floor(music.currentTime);
});

seekBar.addEventListener('input', () => {
  music.currentTime = seekBar.value;
});

/* Volume */
volumeBar.addEventListener('input', () => {
  music.volume = volumeBar.value;
});

/* Open book */
function openBook(book) {
  book.classList.add('open');
  startEmojis();

  const text = book.querySelector('.typewriter');
  if (text && !text.dataset.done) {
    text.dataset.done = true;
    setTimeout(() => typeText(text), 700);
  }
}

/* Typewriter */
function typeText(el, speed = 28) {
  const text = el.textContent.trim();
  el.textContent = '';
  let i = 0;
  const timer = setInterval(() => {
    el.textContent += text.charAt(i);
    i++;
    if (i >= text.length) clearInterval(timer);
  }, speed);
}

/* Emojis */
function startEmojis() {
  if (emojisRunning) return;
  emojisRunning = true;

  const emojis = ['ğŸ’–','ğŸŒ¸','âœ¨','ğŸ’Œ','ğŸŒ·'];

  setInterval(() => {
    const e = document.createElement('div');
    e.className = 'emoji';
    e.textContent = emojis[Math.floor(Math.random()*emojis.length)];
    e.style.left = Math.random()*100 + 'vw';
    e.style.bottom = '20px';
    document.body.appendChild(e);
    setTimeout(() => e.remove(), 6000);
  }, 2200);
}
</script>

</body>
</html>
